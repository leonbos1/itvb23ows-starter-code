pipeline {
    agent { label '!windows' }
    stages {
        stage('SonarQube') {
            steps {
                script { scannerHome = tool 'Hive-scanner' }
                withSonarQubeEnv(installationName: 'sq1') {
                    sh "${scannerHome}/bin/sonar-scanner \ 
                    -D sonar.projectKey=sq1 \
                    -D sonar.host.url=hive-sonarqube"
                }
            }
        }
    }
}